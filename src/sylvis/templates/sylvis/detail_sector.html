{% extends "sylvis/_detail_base.html" %}

{% load i18n mptt_tags %}

{% block details %}
<table>
  <thead>
    <tr>
      <th>{% translate 'All plots' %}</th>
    </tr>
  </thead>
  <tbody>
    {% for plot in entity.plots_set %}
    <tr>
      <td><a href="{% url 'sylvis:plot_detail' plot.pk %}">{{plot}}</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}


{% block sections %}
{% if entity.computed_sections_detail %}
  <div class="columns">
    <table>
      <thead>
        <tr><th>{% translate "year" %}</th><th>{% translate "count" %}</th></tr>
      </thead>
      <tbody>
        {% for year, value in entity.computed_sections_detail.items %}
        <tr><td>{{year}}</td><td>{{value}}</td></tr>
        {% endfor %}
      </tbody>
    </table>
    <div>
      {{bokeh_graph_history | safe}}
      {{bokeh_graph_planned | safe}}
    </div>
  </div>
{% else %}
  {% translate 'Nothing to show.' %}
{% endif %}
{% endblock %}


{% block treatments %}
{% if entity.computed_sections_detail %}
  <div class="columns">
    <table>
      <thead>
        <tr><th>{% translate "year" %}</th><th>{% translate "count" %}</th></tr>
      </thead>
      <tbody>
        {% for year, value in entity.computed_inventories_detail.items %}
        <tr><td>{{year}}</td><td>{{value}}</td></tr>
        {% endfor %}
      </tbody>
    </table>
    <div>
      TODO: CHARTS
    </div>
  </div>
{% else %}
  {% translate 'Nothing to show.' %}
{% endif %}
{% endblock %}


{% block inventories %}
{% if entity.computed_sections_detail %}
  <div class="columns">
    <table>
      <thead>
        <tr><th>{% translate "year" %}</th><th>{% translate "count" %}</th></tr>
      </thead>
      <tbody>
        {% for year, value in entity.computed_treatments_detail.items %}
        <tr><td>{{year}}</td><td>{{value}}</td></tr>
        {% endfor %}
      </tbody>
    </table>
    <div>
      TODO: CHARTS
    </div>
  </div>
{% else %}
  {% translate 'Nothing to show.' %}
{% endif %}
{% endblock %}
